(function(){"use strict";var e={5885:function(e,t,i){var a=i(9242),n=i(3396),o=i(4870),r=i(7139),l=i.p+"img/wind.7987ab9f.png",c=i.p+"img/pressure.6b7147a1.png";i(7658);async function s(e){const t="06b132db1e926d7c73ce52431bc7a68c",i=(0,o.iH)(null),a=((0,o.iH)(null),(0,o.iH)([])),n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`);return i.value=await n.json(),a.value.push({name:e,country:i.value.sys.country,weatherData:i,weatherIcon:i.value.weather[0].icon}),{weatherCityInfo:a}}var u=i.p+"img/delete.8936b264.png",_=i.p+"img/add.7a9434af.png",g=i(6983),w=i.n(g);const d={key:0,class:"widget__config"},f=(0,n._)("h3",{class:"widget__config-title"},"Settings",-1),p={class:"weather__configuration"},h={class:"weather__configuration__item"},m=(0,n._)("button",{class:"weather__configuration__item-hamburger"},null,-1),v={class:"weather__configuration__item-city"},y=["onClick"],b=(0,n._)("img",{class:"weather__configuration__item-delete-img",src:u,alt:""},null,-1),k=[b],S={class:"weather__configuration__location"},D={class:"weather__configuration__location-label",for:"input"},U=(0,n._)("img",{class:"weather__configuration__location-button-icon",src:_,alt:""},null,-1),C=[U];var O=(0,n.aZ)({__name:"WeatherConfiguration",props:["cities","isClosed"],emits:"changeData",setup(e,{emit:t}){const i=e;let l=(0,o.iH)(i.cities),c=(0,o.iH)(""),u=(0,o.iH)(!1),_=async()=>{if(""===c.value)return;let{weatherCityInfo:e}=await s(c.value);l.value=[...l.value,...e.value],b(),c.value=""},g=e=>{l.value=l.value.filter(((t,i)=>t!==e)),b()};function b(){localStorage.setItem("cities",JSON.stringify(l.value))}return(0,n.m0)((()=>{t("changeData",l.value)})),(e,t)=>(0,o.SU)(i).isClosed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",d,[f,(0,n._)("div",p,[(0,n.Wm)((0,o.SU)(w()),{modelValue:(0,o.SU)(l),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(l)?l.value=e:l=e),handle:".weather__configuration__item-hamburger",onStart:t[1]||(t[1]=e=>(0,o.dq)(u)?u.value=!0:u=!0),onEnd:t[2]||(t[2]=e=>(0,o.dq)(u)?u.value=!1:u=!1),"item-key":"id"},{item:(0,n.w5)((({element:e})=>[(0,n._)("div",h,[m,(0,n._)("span",v,(0,r.zw)(e.name)+", "+(0,r.zw)(e.country?e.country:"Ne"),1),(0,n._)("button",{class:"weather__configuration__item-delete",onClick:t=>(0,o.SU)(g)(e)},k,8,y)])])),_:1},8,["modelValue"]),(0,n._)("div",S,[(0,n._)("label",D,[(0,n.Uk)("Add Location: "),(0,n.wy)((0,n._)("input",{type:"text",class:"weather__configuration__location-input",id:"input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,o.dq)(c)?c.value=e:c=e),onKeydown:t[4]||(t[4]=(0,a.D2)(((...e)=>(0,o.SU)(_)&&(0,o.SU)(_)(...e)),["enter"]))},null,544),[[a.nr,(0,o.SU)(c)]])]),(0,n._)("button",{class:"weather__configuration__location-button",onClick:t[5]||(t[5]=(...e)=>(0,o.SU)(_)&&(0,o.SU)(_)(...e))},C)])])]))}});const j=O;var z=j;const q={class:"widget__container"},H=["src"],I={key:1,class:"widget__list"},x={class:"widget__header"},P={class:"title"},V={key:0,class:"widget__item-representaion"},$=["src"],T={key:0,class:"widget__item-degree"},W={key:1,class:"widget__item-info"},M={class:"widget__item-info-feels"},N={class:"widget__item-info-description"},Z={class:"widget__item-info-wind"},A=(0,n._)("img",{class:"widget__item-info-icon",src:l,alt:"wind"},null,-1),E={class:"widget__item-info-pressure"},F=(0,n._)("img",{class:"widget__item-info-icon",src:c,alt:"pressure"},null,-1),J={class:"widget__item-info-humidity"},K={class:"widget__item-info-visibility"};var L=(0,n.aZ)({__name:"WeatherWidget",setup(e){let t=(0,o.iH)();function i(e){t.value=e}let a=(0,o.iH)(!0);function l(){a.value=!a.value}function c(){if(localStorage.getItem("cities")){let e=localStorage.getItem("cities");t.value=JSON.parse(e)}}return(0,n.bv)((async()=>{navigator.geolocation.getCurrentPosition((async e=>{let i=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${e.coords.latitude}&longitude=${e.coords.longitude}&localityLanguage=en`),{city:a}=await i.json(),{weatherCityInfo:n}=await s(a);t.value=[],t.value=[...t.value,...n.value],c()}))})),(e,c)=>((0,n.wg)(),(0,n.iD)("section",q,[(0,n._)("button",{class:"configuration__button",onClick:l},[(0,n._)("img",{class:"configuration__button-img",src:(0,o.SU)(a)?"./gear.png":"./close.png",alt:""},null,8,H)]),(0,o.SU)(t)?((0,n.wg)(),(0,n.j4)(z,{key:0,onChangeData:i,cities:(0,o.SU)(t),isClosed:(0,o.SU)(a)},null,8,["cities","isClosed"])):(0,n.kq)("",!0),(0,o.SU)(a)?((0,n.wg)(),(0,n.iD)("div",I,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(t),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"widget__item",key:e},[(0,n._)("header",x,[(0,n._)("h3",P,(0,r.zw)(e.name),1)]),e.weatherData?((0,n.wg)(),(0,n.iD)("div",V,[(0,n._)("img",{class:"widget__item-icon",src:`http://openweathermap.org/img/wn/${e.weatherIcon}.png`,alt:"icon-weather"},null,8,$),e.weatherData?((0,n.wg)(),(0,n.iD)("span",T,(0,r.zw)(e.weatherData.main.temp)+"°C",1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0),e.weatherData?((0,n.wg)(),(0,n.iD)("div",W,[(0,n._)("p",M," Feels like "+(0,r.zw)(e.weatherData.main["feels_like"])+"°C. "+(0,r.zw)(e.weatherData.weather[0].main)+", "+(0,r.zw)(e.weatherData.weather[0].description),1),(0,n._)("div",N,[(0,n._)("p",Z,[A,(0,n.Uk)(" "+(0,r.zw)(e.weatherData.wind.speed)+"m/s, "+(0,r.zw)(e.weatherData.wind.deg),1)]),(0,n._)("p",E,[F,(0,n.Uk)(" "+(0,r.zw)(e.weatherData.main.pressure)+" hPa ",1)]),(0,n._)("p",J," Humidity: "+(0,r.zw)(e.weatherData.main.humidity)+"% ",1),(0,n._)("p",K," Visibility: "+(0,r.zw)(e.weatherData.visibility)+"m ",1)])])):(0,n.kq)("",!0)])))),128))])):(0,n.kq)("",!0)]))}});const Y=L;var B=Y,G=(0,n.aZ)({__name:"App",setup(e){return(e,t)=>((0,n.wg)(),(0,n.j4)(B))}});const Q=G;var R=Q;(0,a.ri)(R).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,o){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var l=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[c])}))?a.splice(c--,1):(l=!1,o<r&&(r=o));if(l){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/weather/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,r=a[0],l=a[1],c=a[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(c)var u=c(i)}for(t&&t(a);s<r.length;s++)o=r[s],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},a=self["webpackChunkweather"]=self["webpackChunkweather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(5885)}));a=i.O(a)})();
//# sourceMappingURL=app.51f05f66.js.map